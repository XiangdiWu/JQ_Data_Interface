# JQData è´¢åŠ¡æ•°æ®è·å–ç³»ç»Ÿ

åŸºäº JoinQuant API çš„é‡‘èæ•°æ®è·å–ã€å­˜å‚¨å’Œç®¡ç†ç³»ç»Ÿã€‚æä¾›å®Œæ•´çš„Aè‚¡å¸‚åœºæ•°æ®è·å–è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬è‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æŠ¥è¡¨ã€ä¼°å€¼æŒ‡æ ‡ã€èµ„é‡‘æµå‘ç­‰å¤šç»´åº¦æ•°æ®ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªå®Œæ•´çš„é‡‘èæ•°æ®è·å–å’Œç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡ JoinQuant API è·å–Aè‚¡å¸‚åœºçš„å„ç±»æ•°æ®ï¼Œå¹¶æŒ‰ç…§è§„èŒƒçš„ç›®å½•ç»“æ„è¿›è¡Œæœ¬åœ°å­˜å‚¨ã€‚ç³»ç»Ÿæ”¯æŒå¢é‡æ›´æ–°ã€æ•°æ®å»é‡ã€å¼‚å¸¸å¤„ç†ç­‰åŠŸèƒ½ï¼Œé€‚ç”¨äºé‡åŒ–ç ”ç©¶ã€æŠ•èµ„åˆ†æç­‰åœºæ™¯ã€‚

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
JQ/
â”œâ”€â”€ Config/                    # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.py            # JoinQuantè®¤è¯é…ç½®
â”‚   â”œâ”€â”€ data_path.py         # æ•°æ®å­˜å‚¨è·¯å¾„é…ç½®
â”‚   â””â”€â”€ index_config.py      # æŒ‡æ•°é…ç½®
â”œâ”€â”€ Database/                 # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ all_trading_days.csv # äº¤æ˜“æ—¥å†
â”‚   â”œâ”€â”€ stock_price/         # è‚¡ç¥¨è¡Œæƒ…æ•°æ®
â”‚   â”œâ”€â”€ stock_valuation/     # ä¼°å€¼æ•°æ®
â”‚   â”œâ”€â”€ financial_data/      # è´¢åŠ¡æŠ¥è¡¨æ•°æ®
â”‚   â”‚   â”œâ”€â”€ balance_sheet/   # èµ„äº§è´Ÿå€ºè¡¨
â”‚   â”‚   â”œâ”€â”€ income_statement/ # åˆ©æ¶¦è¡¨
â”‚   â”‚   â””â”€â”€ cash_flow/       # ç°é‡‘æµé‡è¡¨
â”‚   â”œâ”€â”€ dividend/            # åˆ†çº¢é€è‚¡æ•°æ®
â”‚   â”œâ”€â”€ money_flow/          # èµ„é‡‘æµå‘æ•°æ®
â”‚   â””â”€â”€ ...                  # å…¶ä»–æ•°æ®ç›®å½•
â”œâ”€â”€ Utils/                    # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ get_stock_list.py    # è·å–è‚¡ç¥¨åˆ—è¡¨
â”‚   â”œâ”€â”€ get_trading_date.py  # äº¤æ˜“æ—¥å·¥å…·
â”‚   â””â”€â”€ get_stock_ud.py      # æ¶¨è·ŒåœçŠ¶æ€
â”œâ”€â”€ auth.py                   # ç”¨æˆ·è®¤è¯
â”œâ”€â”€ get_all_trading_days.py # è·å–äº¤æ˜“æ—¥å†
â”œâ”€â”€ get_all_securities.py  # è·å–è¯åˆ¸ä¿¡æ¯
â”œâ”€â”€ bond_zh_us_rate.py      # è·å–ä¸­ç¾å›½å€ºæ”¶ç›Šç‡
â”œâ”€â”€ get_price.py             # è·å–è‚¡ç¥¨è¡Œæƒ…
â”œâ”€â”€ get_valuation.py         # è·å–ä¼°å€¼æ•°æ®
â”œâ”€â”€ get_dividend.py          # è·å–åˆ†çº¢æ•°æ®
â”œâ”€â”€ get_money_flow.py        # è·å–èµ„é‡‘æµå‘
â”œâ”€â”€ financial_query.py       # è´¢åŠ¡æŠ¥è¡¨æŸ¥è¯¢
â”œâ”€â”€ get_stock_industry.py   # è·å–è¡Œä¸šåˆ†ç±»
â”œâ”€â”€ get_stock_concept.py    # è·å–æ¦‚å¿µæ¿å—
â”œâ”€â”€ get_index_stocks.py     # è·å–æˆåˆ†è‚¡
â”œâ”€â”€ get_mtss.py              # è·å–èèµ„èåˆ¸æ•°æ®
â”œâ”€â”€ ...                     # å…¶ä»–æ•°æ®è·å–æ¨¡å—
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.7+
- JoinQuant è´¦æˆ·
- å¿…è¦çš„PythonåŒ…ï¼špandas, jqdatasdk

### å®‰è£…ä¾èµ–

```bash
pip install pandas jqdatasdk
```

### é…ç½®è®¤è¯

1. ç¼–è¾‘ `Config/config.py` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„ JoinQuant è´¦æˆ·ä¿¡æ¯ï¼š

```python
# JQDataè®¤è¯é…ç½®
JQ_USERNAME = 'your_username'
JQ_PASSWORD = 'your_password'
```

2. è¿è¡Œè®¤è¯æµ‹è¯•ï¼š

```python
python auth.py
```

### åŸºæœ¬ä½¿ç”¨

#### è·å–è‚¡ç¥¨è¡Œæƒ…æ•°æ®

```python
from get_price import get_price_data

# è·å–æŒ‡å®šæ—¥æœŸçš„è‚¡ç¥¨è¡Œæƒ…
date = '2025-08-27'
get_price_data(date)
```

#### è·å–è´¢åŠ¡æŠ¥è¡¨æ•°æ®

```python
from financial_query import get_all_finance_company_data

# è·å–é‡‘èå…¬å¸è´¢åŠ¡æ•°æ®
end_date = '2025-08-27'
get_all_finance_company_data(end_date)
```

#### è·å–åˆ†çº¢æ•°æ®

```python
from get_dividend_new import get_dividend_data

# è·å–åˆ†çº¢æ•°æ®ï¼ˆæ”¯æŒå¢é‡æ›´æ–°ï¼‰
get_dividend_data()
```

## ğŸ“Š åŠŸèƒ½æ¨¡å—

### 1. åŸºç¡€æ•°æ®æ¨¡å—

- **äº¤æ˜“æ—¥å†**: `all_trading_days.py` - è·å–Aè‚¡äº¤æ˜“æ—¥å†
- **è¯åˆ¸ä¿¡æ¯**: `get_all_securities.py` - è·å–è‚¡ç¥¨ä¸Šå¸‚/é€€å¸‚ä¿¡æ¯
- **è‚¡ç¥¨åˆ—è¡¨**: `Utils/get_stock_list.py` - è·å–æŒ‡å®šæ—¥æœŸçš„è‚¡ç¥¨åˆ—è¡¨

### 2. è¡Œæƒ…æ•°æ®æ¨¡å—

- **è‚¡ç¥¨è¡Œæƒ…**: `get_price.py` - è·å–æ—¥çº¿è¡Œæƒ…æ•°æ®
- **ä¼°å€¼æŒ‡æ ‡**: `get_valuation.py` - è·å–PEã€PBç­‰ä¼°å€¼æŒ‡æ ‡
- **èµ„é‡‘æµå‘**: `get_money_flow.py` - è·å–èµ„é‡‘æµå‘æ•°æ®
- **æ¶¨è·ŒåœçŠ¶æ€**: `Utils/get_stock_ud.py` - è·å–æ¶¨è·Œåœå’Œåœç‰Œä¿¡æ¯

### 3. è´¢åŠ¡æ•°æ®æ¨¡å—

- **è´¢åŠ¡æŠ¥è¡¨**: `financial_query.py` - è·å–èµ„äº§è´Ÿå€ºè¡¨ã€åˆ©æ¶¦è¡¨ã€ç°é‡‘æµé‡è¡¨
- **åˆ†çº¢é€è‚¡**: `get_dividend_new.py` - è·å–åˆ†çº¢é€è‚¡ä¿¡æ¯ï¼ˆæ”¯æŒå¢é‡æ›´æ–°ï¼‰
- **èèµ„èåˆ¸**: `get_mtss.py` - è·å–èèµ„èåˆ¸æ•°æ®

### 4. è¡Œä¸šæ¦‚å¿µæ¨¡å—

- **è¡Œä¸šåˆ†ç±»**: `get_stock_industry.py` - è·å–è‚¡ç¥¨è¡Œä¸šåˆ†ç±»
- **æ¦‚å¿µæ¿å—**: `get_stock_concept.py` - è·å–è‚¡ç¥¨æ¦‚å¿µåˆ†ç±»
- **æŒ‡æ•°æˆåˆ†**: `get_index_stocks.py` - è·å–æŒ‡æ•°æˆåˆ†è‚¡

### 5. å·¥å…·æ¨¡å—

- **äº¤æ˜“æ—¥å·¥å…·**: `Utils/get_trading_date.py` - äº¤æ˜“æ—¥ç›¸å…³å·¥å…·å‡½æ•°
- **å€ºåˆ¸æ•°æ®**: `bond_zh_us_rate.py` - ä¸­ç¾å›½å€ºæ”¶ç›Šç‡

## ğŸ“ æ•°æ®å­˜å‚¨è§„èŒƒ

### ç›®å½•ç»“æ„

- **æŒ‰æ•°æ®ç±»å‹åˆ†ç±»**: ä¸åŒç±»å‹æ•°æ®å­˜å‚¨åœ¨ä¸åŒç›®å½•
- **æŒ‰æ—¥æœŸç»„ç»‡**: æ—¥åº¦æ•°æ®æŒ‰æ—¥æœŸå­˜å‚¨ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º `YYYY-MM-DD.csv`
- **æŒ‰ä»£ç ç»„ç»‡**: è´¢åŠ¡æ•°æ®æŒ‰è‚¡ç¥¨ä»£ç å­˜å‚¨ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º `{code}.csv`

### æ–‡ä»¶æ ¼å¼

- **ç¼–ç **: UTF-8-SIGï¼ˆæ”¯æŒä¸­æ–‡ï¼‰
- **æ ¼å¼**: CSVï¼ˆé€—å·åˆ†éš”ï¼‰
- **ç´¢å¼•**: ä¸åŒ…å«DataFrameç´¢å¼•åˆ—

### ç¤ºä¾‹æ–‡ä»¶è·¯å¾„

```
Database/stock_price/2025-08-27.csv          # æŒ‡å®šæ—¥æœŸè¡Œæƒ…æ•°æ®
Database/stock_valuation/2025-08-27.csv     # æŒ‡å®šæ—¥æœŸä¼°å€¼æ•°æ®
Database/financial_data/balance_sheet/000001.XSHE.csv  # å¹³å®‰é“¶è¡Œèµ„äº§è´Ÿå€ºè¡¨
Database/dividend/000001.XSHE.csv            # å¹³å®‰é“¶è¡Œåˆ†çº¢æ•°æ®
```

## âš™ï¸ é…ç½®è¯´æ˜

### æ•°æ®è·¯å¾„é…ç½®

`Config/data_path.py` å®šä¹‰äº†å„ç±»æ•°æ®çš„å­˜å‚¨è·¯å¾„ï¼š

```python
def get_path(data_type):
    paths = {
        'stock_price': 'Database/stock_price',
        'stock_valuation': 'Database/stock_valuation',
        'financial_data': 'Database/financial_data',
        'dividend': 'Database/dividend',
        # ... æ›´å¤šè·¯å¾„é…ç½®
    }
    return paths[data_type]
```

### å¼‚å¸¸å¤„ç†

æ‰€æœ‰æ¨¡å—éƒ½åŒ…å«å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼š

- APIè°ƒç”¨å¤±è´¥è‡ªåŠ¨é‡è¯•
- æ•°æ®ä¸ºç©ºæ—¶çš„å‹å¥½æç¤º
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **APIé™åˆ¶**: æ³¨æ„ JoinQuant API çš„è°ƒç”¨é¢‘ç‡é™åˆ¶
2. **æ•°æ®æƒé™**: æŸäº›è´¢åŠ¡æ•°æ®éœ€è¦ç›¸åº”çš„æƒé™
3. **å­˜å‚¨ç©ºé—´**: å…¨é‡æ•°æ®å¯èƒ½å ç”¨è¾ƒå¤§å­˜å‚¨ç©ºé—´
4. **ç½‘ç»œç¯å¢ƒ**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›é¡¹ç›®ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚ä½¿ç”¨æœ¬é¡¹ç›®è¿›è¡ŒæŠ•èµ„å†³ç­–çš„é£é™©ç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚